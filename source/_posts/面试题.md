---
title: 面试-面试题
tags:
  - 面试
---



## JVM篇

- 运行时区域组成结构和各部分作用

```

线程共享： 堆  方法区（包含运行时常量池）
线程私有区： 虚拟机栈 本地方法栈 程序计数器
直接内存

虚拟栈： 每个方法会以栈帧的方式存在虚拟机栈中，每一个栈帧中包含四大区域（局部变量表、操作数栈、动态链接、返回地址），缺省值大小为1M,递归死循环会导致StackOverflowError。

	局部变量表 ： 存放变量的地方，主要存方八大数据类型，如果时一个对象，则存放对象的引用地址
	操作数栈： JVM引擎的工作区
	动态链接： Java语言特性多态
	返回地址： 正常情况从程序计数器中取，异常的时候从异常表里面取

本地方法栈： 执行native方法

程序计数器： 存储当前字节码的偏移量，线程独有，互不干扰

方法区: 存储已被虚拟机加载的类信息、常量、静态变量、代码缓存等等


堆：分为新生代和老年代（1：2），新生代分为Eden区和两个Survivor区（8：1：1），堆主要与垃圾回收相关

```



- Java对象

```

对象的组成部分：  Header + 实例数据 + 对其填充

Header : 包含对象头markdown(8个字节)  对象头指针（4个字节） 如果是数组还有一个数组长度（4个字节）
实例数据：
对其填充： 对象的整体大小需要是8的倍数


对象创建过程：


加载检查
分配对象 : 如果是连续的内存，直接使用内存碰撞的方式，如不是连续的内存，需要维护一张空闲列表，性能相比连续内存较低。
内存空间初始化 ： 属性赋予默认值
设置对象头
对象初始化


对象的分配策略

1、先检查是否开启了逃逸分析，是否能够在栈上分配（更好的进行垃圾回收）
2、检查是否是大对象，大对象直接进入老年代
3、是否开启了本地线程缓冲，在Eden区域分配对象


```

- 类加载机制

```

1、加载  根据class文件加载二进制字节流，存在方法区
2、验证  版本号 cafababy等等
3、准备  类变量、静态变量等分配内存，赋初始值 final常量会在这一步赋值
4、解析  将符号引用转换为直接引用
5、初始化  

```

- 双亲委派及作用

```

加载一个类的时候先给父加载器加载，父加载器加载不了再自己加载，目的是为了防止核心类被篡改

```

- 垃圾回收机制

```

判断一个类是不是垃圾 （引用计数（只计强引用） / 可达性分析）


常见的回收算法：

复制算法
标记清除算法
标记整理


```






①悲观锁和乐观锁 （ 具体可以看我的这篇文章：面试必备之乐观锁与悲观锁）.
②synchronized 和 lock 区别以及 volatile 和 synchronized 的区别，
③可重入锁与非可重入锁 的区别.
④多线程是解决什么问题的.
⑤线程池解决什么问题.
⑥线程池的原理.⑦
线程池使用时的注意事项.⑧AQS 原有没有在项目中实际使用多线程的经历。所 以，如果你在你的项目中有实际使用 Java 多线程的经历 的话，会为你加分不少 哦！
异常的类型
catch中出现异常
catch 中return finally 中return

jvm常见的配置参数

catch 中报错