---
title: 接口幂等性解决方案
tags:
  - 接口幂等性
  - 解决方案
---

接口幂等性解决方案

### 接口幂等性解决方案

幂等操作:其任意多次执行所产生的影响均与一次执行的影响相同



解决方案：

1、数据库层面加上唯一索引,防止新增脏数据.
2、业务表内添加状态,更新时添加状态更新. update xxxx where status = 1
4、token校验机制,防止页面重复提交,由服务端生成token,客户端每次请求携带对应的toekn,服务端判断token是否存在,不存在则表示已经处理过,存在则删除。

可使用AOP统一进行token检验。

5、数据库悲观锁 select X from table where id = xx for update;
6、基于版本号的更新,更新条件中带上版本号.数据库乐观锁
7、最简单 select + insert方法,适合并发不高的系统.